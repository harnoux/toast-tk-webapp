<body>
  <div class="container-fluid">

    <!-- Page Heading -->
    <div class="row">
        <div class="col-lg-12">

                        <!-- <ol class="breadcrumb">
                            <li class="active">
                                <i class="fa fa-dashboard"></i> Dashboard
                            </li>
                        </ol> -->
                    </div>
                </div>
                <!-- /.row -->
                <div class="row" style="width:{{effectContentWidth}}px; height:98%;">
                  <div webix-ui id="contentWebixLayout"> <!--layout rows with type "space" are created-->
                  <div margin="2" height="51" >
                      <h3 class="page-header" >
                        <i class="fa fa-fw fa-pencil-square-o"></i>  Scenarii Edition <small> Test scripts</small>
                      </h3>
                  </div>
    <div view="cols" margin="2"> <!--Webix layout cols are initialized-->
        <div width="200" margin="2"> 
                                   <div class="panel panel-default">
                          <div class="panel-heading">
                            <h3 class="panel-title"><i class="fa fa-files-o fa-fw"></i> Explorateur</h3>
                        </div>
                        <div class="panel-body">
                           <div class="btn btn-primary btn-sm" ng-click="addScenarioToParent()"> + Add new</div>
                           <div view="tree" id="toastScenariosTreeExplorer" style='width:100%; height:600px;'></div>
                       </div>
                   </div>
        </div>
        <div view="resizer"></div>
        <div view="cols" margin="2">
              <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title"><i class="fa fa-bars fa-fw"></i> {{scenario.name}}</h3>
                        <input type="text" ng-model="scenario.name"/>

                    </div>
                    <div class="panel-body">
                        <!--  -->
                        <div class="effectContent">
                            <div class="scenario" ng-show="scenario != undefined">
                                <span class="">
                                    <button class="btn btn-xs btn-success" ng-show="scenario.template" ng-click="convertToTemplate(scenario)">T</button>
                                    <button class="btn btn-xs btn-primary" data-ng-click="importScenario(scenario)">Import</button>
                                    <select ng-model="scenario.selectedImportMode" ng-options="mode for mode in importModes"></select>
                                    from <select ng-model="scenario.imp" ng-options="reference as reference.name for reference in scenarii" ></select>
                                    <button class="btn btn-xs" data-ng-click="save()">Save</button>
                                </span>
                                <table class="table table-striped" width="200px;">
                                    <thead>
                                        <tr>
                                            <th></th>
                                            <th ng-repeat="c in scenario.columns"></span>{{c.name}}</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody ui-sortable ng-model="scenario.rows">
                                        <tr ng-repeat="r in scenario.rows">
                                            <td>
                                                <span ng-switch="r.kind">
                                                    <i ng-switch-when="service"
                                                    class="fa fa-flash fa-2x"
                                                    tooltip="Service" tooltip-trigger="mouseenter" tooltip-placement="top"/>
                                                    <i ng-switch-when="swing"
                                                    class="fa fa-laptop fa-2x"
                                                    tooltip="Swing" tooltip-trigger="mouseenter" tooltip-placement="top"/>
                                                    <i ng-switch-when="web"
                                                    class="fa fa-tablet fa-2x"
                                                    tooltip="Web" tooltip-trigger="mouseenter" tooltip-placement="top"/>
                                                    <span class="fa-stack fa-lg" ng-switch-default
                                                    tooltip="Unknown" tooltip-trigger="mouseenter" tooltip-placement="top">
                                                    <i class="fa fa-play fa-stack-1x"></i>
                                                    <i class="fa fa-ban fa-stack-2x text-danger"></i>
                                                </span>
                                            </span>    
                                        </td>
                                        <td ng-repeat="c in scenario.columns"
                                        pattern 
                                        pattern-value="{{r[c.name]}}" 
                                        pattern-post="{{c.post}}"
                                        pattern-model="r" 
                                        pattern-column="{{c.name}}"
                                        pattern-context="{{scenario.type}}"
                                        on-pattern-change="onPatternValueChange(row, position, identifier, value)">
                                    </td>
                                    <td>
                                        <button class="btn btn-xs" data-ng-click="deleteRow(scenario, r)">
                                            <i class="fa fa-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                            <tr ng-model="newRow">
                                <td colspan="3">
                                    <span template ng-model="newRow['patterns']" template-value="true"
                                    template-post="false" template-config-type="{{ stepType }}">
                                    <input type="text" ng-model="newRow[c.name]" 
                                    style="width: 100%;" placeholder="{{c.name}}"/>
                                </span>
                            </td>
                            <td colspan="2">
                                <div class="btn-group" dropdown>
                                  <button type="button" class="btn btn-primary btn-xs" ng-click="addRow(newRow)">
                                      + {{stepType}} step
                                  </button>
                                  <button type="button" class="btn btn-primary btn-xs dropdown-toggle" dropdown-toggle>
                                    <span class="caret"></span>
                                    <span class="sr-only">Toggle Dropdown</span>
                                </button>
                                <ul class="dropdown-menu" role="menu">
                                    <li>
                                        <a href="javascript:void(0)" data-ng-click="swaptToSwingRow()">
                                            <i class="fa fa-laptop fa-fw"></i>swing
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:void(0)" data-ng-click="swaptToWebRow()">
                                            <i class="fa fa-tablet fa-fw"></i>web
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:void(0)" data-ng-click="swaptToServiceRow()">
                                            <i class="fa fa-flash fa-fw"></i>service
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <!-- /. effect content -->
    </div>
</div>
<!-- /.panel -->
        </div>
    </div>
  </div>
  </div>
<!--                 <div data-view="cols">
                    <div data-view="template" data-width="200"> 
                        <div class="panel panel-default">
                          <div class="panel-heading">
                            <h3 class="panel-title"><i class="fa fa-files-o fa-fw"></i> Explorateur</h3>
                        </div>
                        <div class="panel-body">
                           <div class="btn btn-primary btn-sm" ng-click="addScenarioToParent()"> + Add new</div>
                           <div id="toastScenariosTreeExplorer" style='width:100%; height:600px;'></div>
                       </div>
                   </div>
               </div>
               <div data-view="resizer"></div>
               <div data-view="template" > 

              
</div>
</div> -->
<!--          <div class="row">
            <div class="col-lg-3">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title"><i class="fa fa-files-o fa-fw"></i> Explorateur</h3>
                    </div>
                    <div class="panel-body">
                        <div class="btn btn-primary btn-sm" ng-click="addScenarioToParent()"> + Add new</div>
                        <div id="toastScenariosTreeExplorer" style='width:100%; height:600px;'></div>
                    </div>
                </div>
            </div>
            <div class="col-lg-9">

</div>
</div>  --> 
</div>
            <!-- /.container-fluid -->