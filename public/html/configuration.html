<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container">
	<div class="navbar-header">
	  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
		<span class="sr-only">Toggle navigation</span>
		<span class="icon-bar"></span>
		<span class="icon-bar"></span>
		<span class="icon-bar"></span>
	  </button>
	  <a class="navbar-brand" href="#">Toast Tk</a>
	</div>
	<div id="navbar" class="navbar-collapse collapse">
	  <ul class="nav navbar-nav">
		<li><a href="#/main">Home</a></li>
		<li><a href="#/configuration">Settings</a></li>
		<li><a href="#/repository">Object Repository</a></li>
		<li><a href="#/scenario">Scenarii Edition</a></li>
		<li><a href="#/project">Test Campaign Reports</a></li>
	  </ul>
	  <ul class="nav navbar-nav navbar-right">
		<li>
			<a class="" ng-href="{{jnlpHost}}" target="_blank"><i class="glyphicon glyphicon-download-alt"/>&nbsp;Download Toast Studio</a>
		</li>
	  </ul>
	</div>
  </div>
</nav>
<div class="container">
  <br>
  <br>
  
  <h1> Configuration <button class="btn" data-ng-click="saveConfig()">Save</button></h1>
  <div class="row">
  	<div class="col-md-12">
  		  Add a new service configuration set
 		  <button class="btn btn-primary btn-xs" data-ng-click="addConfigBlock()">+</button>
					
  	</div>
  </div>
  
  <br>

  <div class="row">
  	<div class="col-md-4">
        <div ui-tree data-drag-enabled="false">
          <ol ui-tree-nodes="" ng-model="configurations">
            <li ng-repeat="config in configurations" ui-tree-node>
              <div class="title-no">
              	<a cclass="btn btn-xs" data-nodrag ng-click="toggle(this)">
              		<span class="glyphicon glyphicon-chevron-right" ng-class="{'glyphicon-chevron-right': collapsed, 'glyphicon-chevron-down': !collapsed}"></span>
              	</a>
                {{config.type}}
                <a class="pull-right btn btn-danger btn-xs" data-nodrag="" ng-click="remove(this)">
		            <span class="glyphicon glyphicon-remove"></span>
		        </a>
              </div>
              <ol ui-tree-nodes="" ng-model="config.rows">
		        <li ng-repeat="configLine in config.rows" ui-tree-node>
		          	<div class="title" ng-click="editConfigLine(configLine)">
		          		{{configLine.name}}
		          		<a class="pull-right btn btn-danger btn-xs" data-nodrag="" ng-click="deleteConfigLine(config, configLine)">
			            	<span class="glyphicon glyphicon-remove"></span>
			            </a> 
			            <a class="pull-right btn btn-primary btn-xs" data-nodrag="" ng-click="editConfigLine(configLine)">
			            	<span class="glyphicon glyphicon-edit"></span>
			            </a>
		          	</div>
		        </li>
		      </ol>
		      <br>
		      <div>
				<span>
					<input type="text" ng-model="newConfigName" placeholder="{{config.type}} name"/>
					<!-- add an ng-show only if it's a service -->
					<select ng-model="newConfigType" data-ng-options="type for type in service_config_types" placeholder="context"></select>
					<button class="btn btn-primary btn-xs" data-ng-click="addConfigLine(config, newConfigName, newConfigType)">+</button>
				</span>
			  </div>
			  <br>
            </li>
          </ol>
        </div>

    </div> 
    <div class="col-md-8">
    	<h4 ng-show="selectedConfig != undefined"> Sentences </h4>
	  	<div ng-repeat="syntax in selectedConfig.syntax">
  			<span>
  				{{syntax.sentence}} <button class="btn btn-xs" data-ng-click="deleteSentenceLine(syntax, sentence)">-</button>
  			</span>
	  	</div>
		 <hr ng-show="selectedConfig != undefined"/>
	  	<div ng-show="selectedConfig != undefined">
			<div class="row">
				<div class="col-md-10">
					<sentence on-add="addNewSentence(a,b)"></sentence> 
				</div>
			</div>
		</div>
  	</div>
  </div>
</div>